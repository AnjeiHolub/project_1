{"version":3,"sources":["webpack:///webpack/bootstrap ac224e660873a2d45dc0","webpack:///./components/form/form.js","webpack:///./components/menu/menu.js","webpack:///./components/model/model.js","webpack:///./components/tabs/tabs.js","webpack:///./components/app/app.js"],"names":["formTmpl","window","Form","elem","submit","_elem","_submit","_formTmpl","_onSubmit","bind","render","_form","querySelector","_eventInit","innerHTML","addEventListener","name","value","event","preventDefault","trigger","href","_getValueForm","anchor","details","reset","callback","data","widgetEvent","CustomEvent","bubbles","detail","dispatchEvent","menuTmpl","Menu","items","title","_data","console","log","_indexDisplayData","addList","_onClick","index","undefined","target","dataset","action","_onCloseClick","_onPickClick","item","push","_render","filter","classList","contains","parentNode","removeList","Model","resources","_resources","_handlers","_makeRequest","cb","forEach","method","xhr","XMLHttpRequest","open","readyState","JSON","parse","responseText","setData","stringify","send","tabsTmpl","Tabs","renderMenu","_renderMenu","_indexDisplayTab","_tabsTmpl","_initEvent","indexDisplayTab","id","_onAddTab","getAttribute","_onPickTab","prompt","_createDataTab","menuModel","menu","document","tabs","form","on","getData","save","fetch"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ac224e660873a2d45dc0","\n  \"use strict\";\n\n  let formTmpl = window.formTmpl;\n\n  class Form {\n    constructor ({elem, submit}) {\n      this._elem = elem;\n      this._submit = submit;\n      this._formTmpl = formTmpl;\n      this._onSubmit = this._onSubmit.bind(this);\n      this.render();\n      this._form = this._elem.querySelector('form');\n      this._eventInit();\n    }\n    \n    render () {\n      this._elem.innerHTML = this._formTmpl();\n    }\n\n    _eventInit () {\n      this._elem.addEventListener('submit', this._onSubmit);\n    }\n\n    _getValueForm (name) {\n      return this._elem.querySelector(`[name=${name}`).value;\n    }\n\n    _onSubmit (event) {\n      event.preventDefault();\n\n\n      this.trigger('add', {\n        href: this._getValueForm('url'),\n        anchor: this._getValueForm('anchor'),\n        details: this._getValueForm('details')\n      });\n\n      this._form.reset();\n\n    }\n\n    on (name, callback) {\n      this._elem.addEventListener(name, callback);\n    }\n\n\n    /**\n     * Создаем и диспатчим событие\n     * @param  {[type]} data [description]\n     * @return {[type]}      [description]\n     */\n    trigger (name, data) {\n      let widgetEvent = new CustomEvent(name, {\n            bubbles: true,\n            detail: data\n        });\n\n        this._elem.dispatchEvent(widgetEvent);\n    }\n\n  }\n\n  export {Form};\n\n\n// WEBPACK FOOTER //\n// ./components/form/form.js","\n  \"use strict\";\n\n  let menuTmpl = window.menuTmpl;\n\n  class Menu {\n    /**\n     * Create a Menu.\n     * @param {Object} elem\n     * @param {Array} data\n     */\n    constructor ({elem, data = [{items: [], title: 'Пробная закладка'}]}) {\n      this._elem = elem;\n      this._data = data;\n      console.log(this._data);\n      this._indexDisplayData = 0;\n      this.menuTmpl = menuTmpl;\n      this.addList = this.addList.bind(this);\n      this._onClick = this._onClick.bind(this);\n      /*this._render();*/\n      this._eventInit();\n    }\n    \n    setData (data) {\n      this._data = data;\n    }\n\n    getData () {\n      return this._data;\n    }\n\n    _render (index) {\n      if (index !== undefined) this._indexDisplayData = index;\n      this._elem.innerHTML = this.menuTmpl(this._data[this._indexDisplayData]);\n    }\n\n    _eventInit () {\n    \tthis._elem.addEventListener('click', this._onClick);\n    }\n\n    _onClick (event) {\n    \tswitch (event.target.dataset.action){\n        case 'close':\n          this._onCloseClick(event);\n          break;\n        case 'pick':\n          this._onPickClick(event);\n          break;\n      }\n    }\n\n    addList (item) {\n      if (this._data[this._indexDisplayData].items === undefined) this._data[this._indexDisplayData].items = [];\n      this._data[this._indexDisplayData].items.push(item);\n      this._render();\n    }\n\n    removeList (target) {\n      this._data[this._indexDisplayData].items = this._data[this._indexDisplayData].items.filter((item, index) => {\n        return target.dataset.index != index;\n      });\n      this.trigger('remove', this._data);\n      this._render();\n    }\n\n    on (name, callback) {\n      this._elem.addEventListener(name, callback);\n    }\n\n    trigger (name, data) {\n      let widgetEvent = new CustomEvent(name, {\n            bubbles: true,\n            detail: data\n        });\n\n      this._elem.dispatchEvent(widgetEvent);\n    }\n\n    _onCloseClick (event) {\n      let target = event.target;\n      while (target !== this) {\n        if (target.classList.contains('menu__item')) break;\n        target = target.parentNode;\n      }\n      if (!target.classList.contains('menu__item')) return;\n      this.removeList(target);\n    }\n\n    _onPickClick (event) {\n      event.preventDefault();\n    }\n\n  }\n  \n  export {Menu};\n\n\n\n// WEBPACK FOOTER //\n// ./components/menu/menu.js","\n  'use strict';\n\n  \n\n  class Model {\n    constructor ({resources = 'https://components-25771.firebaseio.com/menu.json'}) {\n      this._resources = resources;\n      this._handlers = {};\n      console.log(this._resources)\n    }\n\n    setData (data) {\n      this._data = data;\n      this.trigger('update', this._data);\n    }\n\n    getData () {\n      return this._data;\n    }\n\n    save () {\n      this._makeRequest('PUT', this._resources);\n    }\n\n    fetch () {\n      this._makeRequest('GET', this._resources);\n    }\n\n    on (name, cb) {\n      if (!this._handlers[name]) {\n        this._handlers[name] = [];\n      }\n\n      this._handlers[name].push(cb);\n\n    }\n\n    trigger (name, data) {\n      if (this._handlers[name]) {\n        this._handlers[name].forEach(callback => callback(data));\n      }\n    }\n\n    _makeRequest (method, resources) {\n      let xhr = new XMLHttpRequest();\n      xhr.open(method, resources, false);\n      console.log(xhr);\n\n\n      xhr.addEventListener('readystatechange', () => {\n        if (xhr.readyState === 4) {\n          let data = JSON.parse(xhr.responseText);\n\n          if (method === 'GET') {\n            this.trigger('fetch', xhr);\n            this.setData(data);\n          }\n        }\n      })\n      console.log(JSON.stringify(this._data));\n      if (method === 'PUT') {\n        xhr.send(JSON.stringify(this._data));\n      } else {\n        xhr.send();\n      }\n      \n    }\n  }\n\n  export {Model};\n\n\n\n// WEBPACK FOOTER //\n// ./components/model/model.js","\n  'use strict';\n\n  let tabsTmpl = window.tabsTmpl;\n\n  class Tabs {\n    constructor ({elem, renderMenu}) {\n      this._elem = elem;\n      this._renderMenu = renderMenu;\n      this._indexDisplayTab = 0;\n      this._tabsTmpl = tabsTmpl;\n      this._onClick = this._onClick.bind(this);\n      this._initEvent();\n    }\n\n    setData (data) {\n      this._data = data;\n    }\n\n    _render () {\n      this._elem.innerHTML = this._tabsTmpl({items: this._data, indexDisplayTab: this._indexDisplayTab});\n    }\n\n     _initEvent () {\n      this._elem.addEventListener('click', this._onClick);\n    }\n\n    _onClick (event) {\n      let target = event.target;\n      if (target.id === 'tab__add') this._onAddTab();\n      if (target.getAttribute('name') === 'list') this._onPickTab(target);\n    }\n\n    _onAddTab () {\n      let title = prompt('Заголовок новой закладки');\n      if (title) {\n        this._createDataTab(title);\n      }\n    }\n\n    _createDataTab (title) {\n      let data = {};\n      data.items = [];\n      data.title = title;\n      this._data.push(data);\n      this.trigger('add', {\n        items: [],\n        title: data.title\n      });\n      this._render();\n      data = {};\n    }\n\n    _onPickTab (target) {\n      this._indexDisplayTab = +target.id;\n      this._renderMenu(this._indexDisplayTab);\n    }\n\n    on (name, callback) {\n      this._elem.addEventListener(name, callback);\n    }\n\n    trigger (name, data) {\n      let widgetEvent = new CustomEvent(name, {\n            bubbles: true,\n            detail: data\n        });\n\n        this._elem.dispatchEvent(widgetEvent);\n    }\n\n  }\n\n  export {Tabs};\n\n\n// WEBPACK FOOTER //\n// ./components/tabs/tabs.js","import {Menu} from '../menu/menu.js';\nimport {Form} from '../form/form.js';\nimport {Tabs} from '../tabs/tabs.js';\nimport {Model} from '../model/model.js';\n\nlet menuModel = new Model ({\n  resources: 'https://components-25771.firebaseio.com/menu.json'\n});\n\nlet menu = new Menu ({\n  elem: document.querySelector('.js-menu')\n});\n\n\nlet tabs = new Tabs ({\n  elem: document.querySelector('.js-tabs'),\n  renderMenu (index) {\n    menu._render(index);\n  }\n});\n\nlet form = new Form ({\n  elem: document.querySelector('.js-form'),\n  submit (item) {\n    menu.addList(item);\n  }\n});\n\nmenuModel.on('update', (data) => {\n  tabs.setData(data);\n  menu.setData(data);\n  menu._render();\n  tabs._render();\n});\n\nform.on('add', event => {\n  menu.addList(event.detail); // обновляю интерфейс\n\n  menuModel.setData(menu.getData()); // обновляю данные в моделе\n  menuModel.save(); // сохраняю изменения на сервере\n});\n\ntabs.on('add', event => {\n  menuModel.setData(menu.getData()); // обновляю данные в моделе\n  menuModel.save(); // сохраняю изменения на сервере\n});\n\nmenu.on('remove', event => {\n  menuModel.setData(menu.getData()); // обновляю данные в моделе\n  menuModel.save(); // сохраняю изменения на сервере\n});\n\nmenuModel.fetch();\n\n\n\n\nwindow.menu = menu;\nwindow.tabs = tabs;\nwindow.form = form;\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/app/app.js"],"sourceRoot":""}